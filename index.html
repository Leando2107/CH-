<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ch√° de Casa Nova Leandro & Bianca üíê</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #fff0f5;
      margin: 0;
      padding: 0;
      color: #444;
    }

    header {
      background-color: #f08080;
      color: white;
      padding: 20px;
      text-align: center;
    }

    main {
      padding: 20px;
      max-width: 900px;
      margin: auto;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      margin-top: 20px;
    }

    h2 {
      color: #f08080;
      margin-top: 30px;
      text-align: center;
    }

    ul {
      list-style: none;
      padding: 0;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 10px;
    }

    li {
      background: #ffe4e1;
      padding: 10px;
      border-radius: 5px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 1px 1px 4px rgba(0,0,0,0.1);
    }

    input[type="checkbox"] {
      transform: scale(1.3);
      cursor: pointer;
    }

    input[type="text"], input[type="submit"], button {
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
      margin-top: 10px;
    }

    input[type="submit"], button {
      background-color: #f08080;
      color: white;
      border: none;
      cursor: pointer;
      margin-left: 5px;
    }

    .confirmados {
      margin-top: 15px;
      font-style: italic;
    }

    .admin {
      margin-top: 30px;
      border-top: 1px solid #ccc;
      padding-top: 20px;
    }

    #search {
      width: 100%;
      margin-bottom: 10px;
    }

    .item-reservado {
      text-decoration: line-through;
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <header>
    <h1>Ch√° de Casa Nova Leandro & Bianca üíê</h1>
    <p>R: PASTOR JAIR APARECIDO CREMONEZE FRANCO 328 JD FLORIDO</p>
  </header>

  <main>
    <h2>Lista de Presentes üéÅ</h2>
    <input type="text" id="search" placeholder="Buscar presente..." oninput="carregarPresentes()">
    <ul id="lista-presentes"></ul>

    <h2>Confirme sua presen√ßa üìã</h2>
    <form id="formPresenca" onsubmit="adicionarNome(event)">
      <input type="text" id="nome" placeholder="Seu nome" required>
      <input type="submit" value="Confirmar">
    </form>

    <div class="confirmados" id="lista-confirmados">
      <strong>Confirmados:</strong>
      <ul id="nomes-confirmados"></ul>
    </div>

    <div class="admin">
      <h2>√Årea do dono üîê</h2>
      <div id="senha-container">
        <input type="password" id="senha" placeholder="Digite a senha">
        <button onclick="verificarSenha()">Entrar</button>
      </div>

      <div id="conteudo-dono" style="display: none; margin-top: 15px;">
        <h3>Presentes Reservados:</h3>
        <ul id="presentes-reservados"></ul>
        <button onclick="resetarPresentes()">üîÑ Resetar presentes</button>
      </div>
    </div>
  </main>

  <script>
    const presentes = [
      "Saleiro", "T√°bua de carne", "Tigelas", "X√≠caras", "Guardanapos",
      "Jogo de copo", "Jogo de panela", "Jogo de prato", "Jarra de suco",
      "Jogo de talheres", "Kit de pia", "Kit de sobremesa", "Panela de press√£o",
      "Peneira", "Porta tempero", "Rodinho de pia", "Abridor de lata",
      "Abridor de garrafa", "Assadeiras", "Conchas", "Descascador",
      "Escorredor de lou√ßa", "Escorredor de macarr√£o", "Escumadeira",
      "Espremedor de alho", "Faqueiro", "Filtro", "Frigideira", "Fruteira",
      "Garrafa t√©rmica", "Balde", "Ferro de passar", "Funil", "Lixeira", "P√°",
      "Pano de ch√£o", "Prendedor", "Rodo", "T√°bua de passar", "Vassoura",
      "Cesto de roupa", "Escova sanit√°ria", "Saboneteira",
      "Toalha de banho (04)", "Toalha de rosto (04)", "Cabides", "Ralador",
      "Forma de bolo com furo", "Fouet", "Conjunto de medidores",
      "Esp√°tula de silicone", "Coador de caf√© com cabo de madeira"
    ];

    function carregarPresentes() {
      const dadosSalvos = JSON.parse(localStorage.getItem("presentesSelecionados")) || {};
      const busca = document.getElementById("search").value.toLowerCase();
      const lista = document.getElementById("lista-presentes");
      lista.innerHTML = "";

      presentes.forEach(item => {
        if (!item.toLowerCase().includes(busca)) return;

        const li = document.createElement("li");
        const span = document.createElement("span");
        span.textContent = item;

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.dataset.item = item;

        if (dadosSalvos[item]) {
          checkbox.checked = true;
          checkbox.disabled = true; // Impede que a caixa de sele√ß√£o seja modificada
          li.classList.add("item-reservado");
          span.title = `Reservado por: ${dadosSalvos[item].nome}`;
        }

        li.appendChild(span);
        li.appendChild(checkbox);
        lista.appendChild(li);
      });
    }

    function marcarPresente(checkbox) {
      alert("Voc√™ n√£o pode modificar os presentes reservados.");
      checkbox.checked = false;  // Impede a modifica√ß√£o
    }

    function adicionarNome(event) {
      event.preventDefault();
      const nome = document.getElementById("nome").value;
      if (nome.trim()) {
        const confirmados = JSON.parse(localStorage.getItem("confirmados")) || [];
        confirmados.push(nome);
        localStorage.setItem("confirmados", JSON.stringify(confirmados));
        document.getElementById("nome").value = "";
        carregarConfirmados();
      }
    }

    function carregarConfirmados() {
      const nomes = JSON.parse(localStorage.getItem("confirmados")) || [];
      const ul = document.getElementById("nomes-confirmados");
      ul.innerHTML = "";
      nomes.forEach(nome => {
        const li = document.createElement("li");
        li.textContent = nome;
        ul.appendChild(li);
      });
    }

    function verificarSenha() {
      const senha = document.getElementById("senha").value;
      if (senha === "1085772512") {
        document.getElementById("conteudo-dono").style.display = "block";
        document.getElementById("senha-container").style.display = "none";
        carregarPresentesAdmin();
      } else {
        alert("Senha incorreta!");
      }
    }

    function carregarPresentesAdmin() {
      const dadosSalvos = JSON.parse(localStorage.getItem("presentesSelecionados")) || {};
      const lista = document.getElementById("presentes-reservados");
      lista.innerHTML = "";

      Object.keys(dadosSalvos).forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item} - Reservado por: ${dadosSalvos[item].nome} em ${dadosSalvos[item].data}`;
        lista.appendChild(li);
      });
    }

    function resetarPresentes() {
      if (confirm("Tem certeza que deseja apagar todos os dados?")) {
        localStorage.removeItem("presentesSelecionados");
        localStorage.removeItem("confirmados");
        carregarPresentes();
        carregarConfirmados();
        alert("Dados resetados.");
      }
    }

    carregarPresentes();
    carregarConfirmados();
  </script>
</body>
</html>
